openapi: 3.0.0
info:
  title: runlog-api-v1
  version: '1.0'
  license:
    name: MIT
  contact:
    name: Yoshiki Shino
    url: 'https://github.com/yoshikipom'
    email: yoshiki.shino.tech@gmail.com
servers:
  - url: 'http://localhost:8080'
paths:
  /records:
    get:
      summary: ''
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Record'
              examples:
                example-1:
                  value:
                    - date: '2020-06-01'
                      distance: 10
                      memo: test memo
                    - date: '2020-06-02'
                      distance: 10
                      memo: test memo
      operationId: get-records
      parameters:
        - schema:
            type: string
          in: query
          name: month
          description: YYYY-MM
    parameters: []
    put:
      summary: ''
      operationId: put-records
      responses:
        '204':
          description: No Content
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Record'
  '/records/{date}':
    parameters:
      - schema:
          type: string
          format: date
          deprecated: false
        name: date
        in: path
        description: ''
        required: true
    delete:
      summary: ''
      operationId: delete-records-date
      description: ''
      responses:
        '204':
          description: No Content
    get:
      summary: ''
      operationId: get-records-date
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Record'
              examples:
                example-1:
                  value:
                    date: '2020-06-01'
                    distance: 10
                    memo: test memo
  /yearRecords:
    get:
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  '1':
                    $ref: '#/components/schemas/MonthRecord'
                  '2':
                    $ref: '#/components/schemas/MonthRecord'
                  '3':
                    $ref: '#/components/schemas/MonthRecord'
                  '4':
                    $ref: '#/components/schemas/MonthRecord'
                  '5':
                    $ref: '#/components/schemas/MonthRecord'
                  '6':
                    $ref: '#/components/schemas/MonthRecord'
                  '7':
                    $ref: '#/components/schemas/MonthRecord'
                  '8':
                    $ref: '#/components/schemas/MonthRecord'
                  '9':
                    $ref: '#/components/schemas/MonthRecord'
                  '10':
                    $ref: '#/components/schemas/MonthRecord'
                  '11':
                    $ref: '#/components/schemas/MonthRecord'
                  '12':
                    $ref: '#/components/schemas/MonthRecord'
                required:
                  - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                  - '6'
                  - '7'
                  - '8'
                  - '9'
                  - '10'
                  - '11'
                  - '12'
      operationId: get-yearRecords
      parameters:
        - schema:
            type: integer
          in: query
          name: year
          required: true
components:
  schemas:
    Record:
      title: Record
      type: object
      x-examples:
        example-1:
          date: '2020-06-01'
          distance: 10
          memo: test memo
      description: ''
      properties:
        date:
          type: string
          description: YYYY-MM-DD
        distance:
          type: number
        memo:
          type: string
      required:
        - date
        - distance
        - memo
    MonthRecord:
      title: MonthRecord
      type: object
      properties:
        sum:
          type: number
      required:
        - sum
      x-examples:
        example-1:
          sum: 100
